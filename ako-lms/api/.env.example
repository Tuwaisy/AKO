# API Environment Variables

# General
NODE_ENV=development
PORT=4000
TIMEZONE=Africa/Cairo
WEB_ORIGIN=http://localhost:3000
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:19006

# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/ako_lms

# Redis
REDIS_URL=redis://localhost:6379

# Authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
ACCESS_TOKEN_TTL_SEC=900
REFRESH_TOKEN_TTL_SEC=1209600

# Device Policy (JSON per role)
FEATURE_DEVICE_LIMIT_PER_ROLE={"STUDENT":1,"PARENT":2,"ASSISTANT":3,"INSTRUCTOR":5,"ADMIN":10}

# Storage (MinIO in development)
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET_UPLOADS=ako-uploads
S3_REGION=us-east-1
CDN_PUBLIC_BASE_URL=http://localhost:9000

# DRM (development - use mock)
DRM_PROVIDER=mock
DRM_LICENSE_URL=
DRM_CERTIFICATE_PATH=
DRM_PRIVATE_KEY_PATH=

# Email (MailHog for development)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_SECURE=false
EMAIL_FROM="AKO Courses <no-reply@akocourses.com>"

# Push Notifications (optional)
PUSH_FCM_SERVER_KEY=
PUSH_APNS_KEY_ID=
PUSH_APNS_TEAM_ID=
PUSH_APNS_BUNDLE_ID=

# Feature Flags
FEATURE_IMPERSONATION=true
FEATURE_PARENT_WEEKLY_DIGEST=true
FEATURE_MFA=true
FEATURE_BULK_ENROLLMENT=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# File Upload
MAX_FILE_SIZE_MB=500
ALLOWED_FILE_TYPES=mp4,mov,avi,pdf,doc,docx,ppt,pptx,zip

# Logging
LOG_LEVEL=debug
LOG_FILE_PATH=logs/app.log
LOG_MAX_FILES=5
LOG_MAX_SIZE=10m

# Security
BCRYPT_ROUNDS=12
HELMET_CSP_ENABLED=true
TRUST_PROXY=false
